name: somascan
description: SDRF template for SomaScan aptamer-based proteomics experiments. Extends affinity-proteomics with SomaScan-specific columns.
version: 1.0.0
extends: affinity-proteomics
usable_alone: false
layer: experiment
mutually_exclusive_with:
  - olink
columns:
  - name: comment[somascan menu]
    description: SomaScan assay menu (number of aptamers/proteins measured)
    requirement: required
    allow_not_applicable: false
    allow_not_available: false
    validators:
      - validator_name: values
        params:
          values:
            - SomaScan 1.1K
            - SomaScan 1.3K
            - SomaScan 5K
            - SomaScan 7K
            - SomaScan 11K
          error_level: warning
          description: SomaScan menu version

  - name: comment[somascan platform]
    description: SomaScan instrument/platform version
    requirement: required
    allow_not_applicable: false
    allow_not_available: false
    validators:
      - validator_name: values
        params:
          values:
            - SomaScan Assay
            - SomaScan Assay v4
            - SomaScan Assay v4.1
          error_level: warning
          description: SomaScan platform version

  - name: comment[sample matrix]
    description: Sample matrix type (affects calibration)
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: values
        params:
          values:
            - plasma
            - serum
            - EDTA plasma
            - citrate plasma
            - heparin plasma
            - CSF
            - urine
            - cell lysate
            - tissue lysate
            - not available
          error_level: warning
          description: Sample matrix for SomaScan

  - name: comment[dilution]
    description: Sample dilution factor used
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^(0.005%|0.5%|20%|40%|not available|not applicable)$
          description: Standard SomaScan dilution factors
          examples:
            - 0.005%
            - 0.5%
            - 20%
            - 40%

  - name: comment[normalization method]
    description: Normalization method applied to RFU values
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: values
        params:
          values:
            - hybridization control normalized
            - median normalized
            - plate scale normalized
            - calibrated
            - adaptive normalization by maximum likelihood (ANML)
            - not normalized
            - not available
          error_level: warning
          description: SomaScan normalization method

  - name: comment[QC flag]
    description: Quality control flag for sample
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: values
        params:
          values:
            - PASS
            - FLAG
            - FAIL
            - not available
          error_level: warning
          description: SomaScan QC flag

  - name: comment[somascan lot number]
    description: Reagent lot number for traceability
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^.+$
          description: Lot number
          examples:
            - SS-2023-001
            - lot_12345
