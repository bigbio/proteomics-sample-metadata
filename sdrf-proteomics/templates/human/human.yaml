name: human
description: Human SDRF template with human-specific sample metadata fields. Must be combined with a technology template (ms-proteomics or affinity-proteomics).
version: 1.1.0
extends: base
usable_alone: false
layer: sample
columns:
  - name: characteristics[disease]
    description: Disease state of the sample
    requirement: required
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - mondo
            - efo
            - doid
            - pato
          error_level: warning
          description: The disease should be a valid MONDO, EFO, DOID, or PATO ontology term. Use 'normal' (PATO:0000461) for healthy samples.
          examples:
            - normal
            - breast cancer
            - diabetes mellitus
            - Alzheimer disease

  - name: characteristics[ancestry category]
    description: Ancestry or ethnic background of the donor
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - hancestro
            - efo
          error_level: warning
          description: The ancestry category should be a valid HANCESTRO or EFO ontology term
          examples:
            - European
            - African
            - Asian
            - Hispanic or Latin American

  - name: characteristics[age]
    description: Age of the donor at sample collection
    requirement: recommended
    allow_not_applicable: false
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          # Age format: number + unit (Y/M/D), optionally combined, with optional range
          # Examples: 45Y, 6M, 30Y6M, 30Y6M15D, 40Y-50Y, 1Y-2Y6M
          # Also allows "not available" when age is unknown
          pattern: ^(\d+[yYmMdD](\d+[yYmMdD])*(-\d+[yYmMdD](\d+[yYmMdD])*)?|not available)$
          case_sensitive: false
          description: Age should be in format like 45Y, 6M, 30Y6M, or ranges like 40Y-50Y. Use "not available" if unknown.
          examples:
            - 45Y
            - 6M
            - 30Y6M
            - 40Y-50Y
            - not available

  - name: characteristics[sex]
    description: Biological sex of the donor
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: values
        params:
          values:
            - male
            - female
            - intersex
            - not available
            - not applicable
          error_level: error
          description: Sex should be one of the allowed values

  - name: characteristics[developmental stage]
    description: Developmental stage of the donor
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - hsapdv
            - efo
          error_level: warning
          description: The developmental stage should be a valid HsapDv or EFO ontology term
          examples:
            - adult
            - embryonic stage
            - fetal stage
            - infant stage

  - name: characteristics[individual]
    description: Unique identifier for the donor individual
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^[A-Za-z0-9_-]+$
          description: Individual ID should be alphanumeric with underscores or hyphens
          examples:
            - patient_001
            - donor-A1
            - subject_12
