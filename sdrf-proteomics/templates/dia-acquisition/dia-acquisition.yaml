name: dia-acquisition
description: SDRF template for Data-independent acquisition (DIA) experiments. Extends ms-proteomics with DIA-specific columns.
version: 1.1.0
extends: ms-proteomics
usable_alone: false
layer: experiment
mutually_exclusive_with:
  - dda-acquisition
columns:
  - name: comment[scan window lower limit]
    description: Lower m/z limit of the DIA scan window
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?$
          description: m/z value as a number
          examples:
            - 400
            - 350.5

  - name: comment[scan window upper limit]
    description: Upper m/z limit of the DIA scan window
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?$
          description: m/z value as a number
          examples:
            - 1200
            - 1000.5

  - name: comment[isolation window width]
    description: Width of the isolation window in m/z units
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?$
          description: Width in m/z
          examples:
            - 25
            - 8
            - 4

  - name: comment[collision energy]
    description: Collision energy or stepped collision energies used
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?(%|eV)?$|^\d+(\.\d+)?[,;]\d+(\.\d+)?[,;]\d+(\.\d+)?(%|eV)?$
          description: Single value or stepped energies
          examples:
            - 27
            - 25;27;30
            - 30%

  - name: comment[modification parameters]
    description: Post-translational modifications searched
    requirement: recommended
    cardinality: multiple
    allow_not_applicable: false
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - unimod
          error_level: warning
          description: The modification parameters should be valid Unimod terms
          examples:
            - NT=Oxidation;MT=Variable;TA=M;AC=Unimod:35
            - NT=Carbamidomethyl;TA=C;MT=fixed;AC=UNIMOD:4

  - name: comment[precursor mass tolerance]
    description: Precursor mass tolerance for DIA analysis
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?\s*(ppm|Da)$
          description: Mass tolerance with unit
          examples:
            - 10 ppm
            - 20 ppm

  - name: comment[fragment mass tolerance]
    description: Fragment mass tolerance for DIA analysis
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?\s*(ppm|Da)$
          description: Mass tolerance with unit
          examples:
            - 20 ppm
            - 0.02 Da

  - name: comment[dissociation method]
    description: Fragmentation method used
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - ms
          error_level: warning
          description: Should be a valid MS ontology term for dissociation
          examples:
            - HCD
            - CID
            - ETD

  - name: comment[MS2 mass analyzer]
    description: Mass analyzer used for MS2 acquisition
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - ms
          error_level: warning
          description: Should be a valid MS ontology term
          examples:
            - orbitrap
            - TOF
            - ion trap

  - name: comment[DIA method]
    description: Specific DIA method variant used
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - pride
          error_level: warning
          description: Should be a valid PRIDE ontology term for DIA methods
          examples:
            - SWATH-MS
            - MSE
            - All ion fragmentation
            - diaPASEF
