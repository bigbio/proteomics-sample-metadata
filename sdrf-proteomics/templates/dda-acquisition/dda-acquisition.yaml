name: dda-acquisition
description: SDRF template for Data-dependent acquisition (DDA) experiments
version: 1.1.0
extends: default
columns:
  - name: comment[dissociation method]
    description: Fragmentation method used
    requirement: recommended
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - ms
          error_level: warning
          description: Should be a valid MS ontology term for dissociation
          examples:
            - HCD
            - CID
            - ETD
            - EThcD

  - name: comment[collision energy]
    description: Collision energy used for fragmentation
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?(%|eV)?$|^normalized\s+\d+(\.\d+)?%?$
          description: Energy value with optional unit
          examples:
            - 27
            - 30%
            - normalized 27%

  - name: comment[fractionation method]
    description: Peptide fractionation method used before MS analysis
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: values
        params:
          values:
            - high-pH reversed phase
            - strong cation exchange
            - strong anion exchange
            - isoelectric focusing
            - size exclusion chromatography
            - basic reversed phase
            - not applicable
          error_level: warning
          description: Fractionation method used

  - name: comment[modification parameters]
    description: Post-translational modifications searched
    requirement: recommended
    cardinality: multiple
    allow_not_applicable: false
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - unimod
          error_level: warning
          description: The modification parameters should be valid Unimod terms
          examples:
            - NT=Oxidation;MT=Variable;TA=M;AC=Unimod:35
            - NT=Carbamidomethyl;TA=C;MT=fixed;AC=UNIMOD:4

  - name: comment[precursor mass tolerance]
    description: Precursor mass tolerance for database search
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?\s*(ppm|Da)$
          description: Mass tolerance with unit
          examples:
            - 10 ppm
            - 20 ppm

  - name: comment[fragment mass tolerance]
    description: Fragment mass tolerance for database search
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: pattern
        params:
          pattern: ^\d+(\.\d+)?\s*(ppm|Da)$
          description: Mass tolerance with unit
          examples:
            - 0.02 Da
            - 20 ppm

  - name: comment[MS2 mass analyzer]
    description: Mass analyzer used for MS2 acquisition
    requirement: optional
    allow_not_applicable: true
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - ms
          error_level: warning
          description: Should be a valid MS ontology term
          examples:
            - orbitrap
            - ion trap
            - TOF
