= Data File Metadata Guidelines
:sectnums:
:toc: left
:doctype: book
:showcomments:
:xrefstyle: short
:figure-caption: Figure
:pdf-page-size: A4

ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]

== Introduction

This document provides detailed guidelines for data file metadata fields that require specific formatting or have complex standardization requirements. For basic field descriptions, see the main link:../README.adoc[SDRF-Proteomics specification].

**Version 1.0.0** - 2025-01

== CV Term Format

For data file metadata columns that reference ontology terms, use the structured CV term format:

`NT={term name};AC={accession}`

**Examples:**

- Dissociation method: `NT=HCD;AC=PRIDE:0000590`
- Fractionation method: `NT=High-pH reversed-phase chromatography;AC=PRIDE:0000564`
- Instrument: `NT=Q Exactive HF;AC=MS:1002523`
- Label: `NT=TMT126;AC=PRIDE:0000285`

**Why use the structured format?**

1. **Automated annotation**: Many data file properties (instrument, acquisition method, dissociation method) can be automatically determined by software from raw files.
2. **Validation**: Accession numbers enable automated validation against ontologies.
3. **Interoperability**: Structured terms are unambiguous across different tools and databases.

NOTE: Unlike sample metadata (characteristics) which are typically annotated manually using simple term names, data file metadata benefits from the structured CV term format because these values are often extracted programmatically from instrument files.

== Label

**Column:** `comment[label]`

**Ontology:** https://www.ebi.ac.uk/ols4/ontologies/pride[PRIDE Ontology - Label]

Describes the isotopic label applied to each sample.

**Label-free:** Use `label free sample`.

**TMT labels:** TMT126, TMT127N, TMT127C, TMT128N, TMT128C, TMT129N, TMT129C, TMT130N, TMT130C, TMT131N, TMT131C, TMT132N, TMT132C, TMT133N, TMT133C, TMT134N, TMT134C, TMT135N

**iTRAQ labels:** iTRAQ113, iTRAQ114, iTRAQ115, iTRAQ116, iTRAQ117, iTRAQ118, iTRAQ119, iTRAQ121

**SILAC labels:** `SILAC light`, `SILAC medium`, `SILAC heavy`

== MS2 Mass Analyzer

**Column:** `comment[MS2 mass analyzer]`

**Ontology:** https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1000443[PSI-MS - Mass analyzer type (MS:1000443)]

Specifies the analyzer used for MS2 scans. Important for hybrid instruments.

**Common values:**

|===
|Analyzer |Accession

|https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1000484[orbitrap] |MS:1000484
|https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1000264[ion trap] |MS:1000264
|https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1000081[quadrupole] |MS:1000081
|https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1000084[TOF] |MS:1000084
|===

== DIA Scan Window

**Column:** `comment[MS1 scan range]`

**Format:** `{lower}m/z - {upper}m/z` (e.g., `400m/z - 1200m/z`)

Alternative: Use `comment[scan window lower limit]` and `comment[scan window upper limit]` as separate columns.

== Protein Modifications

**Column:** `comment[modification parameters]`

**Ontology:** https://www.unimod.org/[UNIMOD] or https://www.ebi.ac.uk/ols4/ontologies/mod[PSI-MOD]

**Format:** Key=value pairs: `NT=ModificationName;AC=Accession;MT=Type;TA=AminoAcid;PP=Position`

|===
|Property |Key |Description

|Name |NT |Modification name (UNIMOD or PSI-MOD)
|Accession |AC |UNIMOD or PSI-MOD accession
|===

**Common modifications:**

|===
|Modification |Value |UNIMOD Link

|Carbamidomethyl (fixed) |NT=Carbamidomethyl;AC=UNIMOD:4;MT=Fixed;TA=C |https://www.unimod.org/modifications_view.php?editid1=4[UNIMOD:4]
|Oxidation (variable) |NT=Oxidation;AC=UNIMOD:35;MT=Variable;TA=M |https://www.unimod.org/modifications_view.php?editid1=35[UNIMOD:35]
|Phosphorylation (variable) |NT=Phospho;AC=UNIMOD:21;MT=Variable;TA=S,T,Y |https://www.unimod.org/modifications_view.php?editid1=21[UNIMOD:21]
|Acetylation (variable) |NT=Acetyl;AC=UNIMOD:1;MT=Variable;TA=K,Protein N-term |https://www.unimod.org/modifications_view.php?editid1=1[UNIMOD:1]
|===

== Cleavage Agents

**Column:** `comment[cleavage agent details]`

**Ontology:** https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1001045[PSI-MS - Cleavage agent name (MS:1001045)]

REQUIRED.

**Format:** `NT=EnzymeName;AC=Accession`

**Common enzymes:**

|===
|Enzyme |Value |OLS Link

|Trypsin |NT=Trypsin;AC=MS:1001251 |https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1001251[MS:1001251]
|Trypsin/P |NT=Trypsin/P;AC=MS:1001313 |https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1001313[MS:1001313]
|Lys-C |NT=Lys-C;AC=MS:1001309 |https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1001309[MS:1001309]
|Chymotrypsin |NT=Chymotrypsin;AC=MS:1001306 |https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1001306[MS:1001306]
|Asp-N |NT=Asp-N;AC=MS:1001303 |https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1001303[MS:1001303]
|Glu-C |NT=Glu-C;AC=MS:1001917 |https://www.ebi.ac.uk/ols4/ontologies/ms/classes/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252FMS_1001917[MS:1001917]
|===

For top-down/intact proteins, use `not applicable`. For multiple enzymes, add multiple columns.

[[mass-tolerances]]
== Mass Tolerances

**Columns:** `comment[precursor mass tolerance]`, `comment[fragment mass tolerance]`

**Format:** `{value} {unit}` where unit is `Da` or `ppm`.

|===
|Precursor |Fragment |Instrument Type

|10 ppm |20 ppm |Orbitrap MS1/MS2
|20 ppm |0.6 Da |Orbitrap MS1, Ion trap MS2
|===

[[sample-preparation]]
== Sample Preparation

These columns capture sample preparation details prior to MS analysis. All are RECOMMENDED.

=== Depletion

**Column:** `comment[depletion]`

Describes the removal of specific components (e.g., high-abundance proteins) from a complex mixture.

**Values:**

|===
|Value |Description

|no depletion |No depletion was performed
|depletion |Sample was depleted (general)
|depleted fraction |The depleted fraction (target proteins removed)
|bound fraction |The bound fraction (removed proteins)
|===

=== Reduction Reagent

**Column:** `comment[reduction reagent]`

**Ontology:** https://www.ebi.ac.uk/ols4/ontologies/pride/terms?iri=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FPRIDE_0000607[PRIDE - reduction reagent]

The chemical reagent used to break disulfide bonds in proteins.

**Common values:**

|===
|Reagent |Description

|DTT |Dithiothreitol
|TCEP |Tris(2-carboxyethyl)phosphine
|beta-mercaptoethanol |2-Mercaptoethanol
|===

=== Alkylation Reagent

**Column:** `comment[alkylation reagent]`

**Ontology:** https://www.ebi.ac.uk/ols4/ontologies/pride/terms?iri=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FPRIDE_0000598[PRIDE - alkylation reagent]

The reagent used to covalently modify cysteine SH-groups after reduction, preventing reformation of disulfide bonds.

**Common values:**

|===
|Reagent |Description

|IAA |Iodoacetamide
|IAM |Iodoacetamide (alternative abbreviation)
|chloroacetamide |Chloroacetamide (CAA)
|===

[[fractionation]]
== Fractionation

**Column:** `comment[fractionation method]`

**Ontology:** https://www.ebi.ac.uk/ols4/ontologies/pride/terms?iri=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FPRIDE_0000550[PRIDE - Fractionation method]

The method used to separate samples into fractions before MS analysis. Use with `comment[fraction identifier]` to number fractions.

**Common methods:**

|===
|Method |PRIDE Accession |Description

|High-pH reversed-phase chromatography |PRIDE:0000564 |Peptide separation at high pH
|Strong cation-exchange chromatography |PRIDE:0000561 |SCX fractionation
|Off-gel electrophoresis |PRIDE:0000551 |Isoelectric focusing-based separation
|SDS-PAGE |PRIDE:0000553 |Gel-based protein separation
|===

NOTE: For single-shot experiments without fractionation, this column can be omitted or set to `not applicable`.

[[fragmentation]]
== Fragmentation

These columns describe MS/MS fragmentation parameters. RECOMMENDED for all MS experiments.

=== Collision Energy

**Column:** `comment[collision energy]`

**Ontology:** https://www.ebi.ac.uk/ols4/ontologies/ms/terms?iri=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000045[PSI-MS - collision energy]

The energy used to fragment precursor ions.

**Format:** `{value} {unit}`

|===
|Format |Example |Description

|Normalized |27 NCE |Normalized collision energy (instrument-specific normalization)
|Absolute |30 eV |Absolute energy in electron volts
|Stepped |22 NCE;26 NCE;30 NCE |Multiple energies (semicolon-separated)
|===

TIP: For DIA experiments with stepped collision energy, see the link:../templates/dia-acquisition/README.adoc[DIA template] for detailed guidance.

=== Dissociation Method

**Column:** `comment[dissociation method]`

**Ontology:** https://www.ebi.ac.uk/ols4/ontologies/ms/terms?iri=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000044[PSI-MS - dissociation method]

The fragmentation method used in MS/MS acquisition.

**Common methods:**

|===
|Method |Accession |Description

|HCD |MS:1000422 |Higher-energy collisional dissociation (beam-type CID)
|CID |MS:1000133 |Collision-induced dissociation (ion trap)
|ETD |MS:1000598 |Electron transfer dissociation
|EThcD |MS:1002631 |Electron transfer/higher-energy collision dissociation
|UVPD |MS:1003246 |Ultraviolet photodissociation
|===

**CV term format:** `NT=HCD;AC=MS:1000422` or `NT=beam-type collision-induced dissociation;AC=MS:1000422`

== Best Practices

1. **Use ontology terms** - Prefer PSI-MS and PRIDE ontology terms for labels and enzymes.
2. **Document modifications** - Include all expected modifications with UNIMOD accessions.
3. **Provide mass tolerances** - Include precursor and fragment tolerances for reproducibility.

== References

- PRIDE Ontology: https://www.ebi.ac.uk/ols4/ontologies/pride
- PSI-MS Ontology: https://www.ebi.ac.uk/ols4/ontologies/ms
- UNIMOD: https://www.unimod.org/
- PSI-MOD: https://www.ebi.ac.uk/ols4/ontologies/mod
