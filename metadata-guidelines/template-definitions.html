<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<title>SDRF-Proteomics Template Definitions Guide</title>
<link rel="stylesheet" href="./../css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="has-doc-header article toc2 toc-left">
<header class="doc-header"><div class="doc-header-brand"><a href="../index.html">SDRF-Proteomics</a></div><nav class="doc-header-nav"><a href="../index.html">Home</a><a href="../specification.html">Specification</a><a href="../index.html#metadata-guidelines" class="nav-current">Metadata Guidelines</a><a href="../index.html#templates">Templates</a><a href="../index.html#tools">Tools</a><a href="../sdrf-explorer.html">Explorer</a><a href="../sdrf-editor.html">Editor</a><a href="../index.html#contributors">Contributors</a><a href="/dev/" class="version-link">Dev Version</a><a href="https://github.com/bigbio/proteomics-metadata-standard" target="_blank">GitHub</a></nav></header>
<div id="header">
<h1>SDRF-Proteomics Template Definitions Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_template_architecture">2. Template Architecture</a>
<ul class="sectlevel2">
<li><a href="#_layered_hierarchy">2.1. Layered Hierarchy</a></li>
<li><a href="#_layer_definitions">2.2. Layer Definitions</a></li>
<li><a href="#_mutual_exclusivity">2.3. Mutual Exclusivity</a></li>
</ul>
</li>
<li><a href="#_yaml_template_schema">3. YAML Template Schema</a>
<ul class="sectlevel2">
<li><a href="#_complete_template_structure">3.1. Complete Template Structure</a></li>
<li><a href="#_template_properties_reference">3.2. Template Properties Reference</a></li>
<li><a href="#_column_properties_reference">3.3. Column Properties Reference</a></li>
</ul>
</li>
<li><a href="#_validator_reference">4. Validator Reference</a>
<ul class="sectlevel2">
<li><a href="#_template_level_validators">4.1. Template-Level Validators</a>
<ul class="sectlevel3">
<li><a href="#_min_columns">4.1.1. min_columns</a></li>
<li><a href="#_trailing_whitespace_validator">4.1.2. trailing_whitespace_validator</a></li>
<li><a href="#_column_order">4.1.3. column_order</a></li>
<li><a href="#_empty_cells">4.1.4. empty_cells</a></li>
<li><a href="#_combination_of_columns_no_duplicate_validator">4.1.5. combination_of_columns_no_duplicate_validator</a></li>
</ul>
</li>
<li><a href="#_column_level_validators">4.2. Column-Level Validators</a>
<ul class="sectlevel3">
<li><a href="#_ontology">4.2.1. ontology</a></li>
<li><a href="#_pattern">4.2.2. pattern</a></li>
<li><a href="#_values">4.2.3. values</a></li>
<li><a href="#_single_cardinality_validator">4.2.4. single_cardinality_validator</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_supported_ontologies">5. Supported Ontologies</a></li>
<li><a href="#_template_inheritance_rules">6. Template Inheritance Rules</a>
<ul class="sectlevel2">
<li><a href="#_inheritance_behavior">6.1. Inheritance Behavior</a></li>
<li><a href="#_requirement_strengthening">6.2. Requirement Strengthening</a></li>
<li><a href="#_multi_template_combination">6.3. Multi-Template Combination</a></li>
</ul>
</li>
<li><a href="#_creating_new_templates">7. Creating New Templates</a>
<ul class="sectlevel2">
<li><a href="#_checklist">7.1. Checklist</a></li>
<li><a href="#_best_practices">7.2. Best Practices</a></li>
<li><a href="#_example_creating_an_experiment_template">7.3. Example: Creating an Experiment Template</a></li>
</ul>
</li>
<li><a href="#_linkml_schema">8. LinkML Schema</a></li>
<li><a href="#_validation_commands">9. Validation Commands</a></li>
<li><a href="#_references">10. References</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a><a class="link" href="#_introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes the technical implementation of SDRF-Proteomics templates for <strong>developers and maintainers</strong>. Templates are implemented as YAML files that define validation rules, column requirements, and inheritance relationships.</p>
</div>
<div class="paragraph">
<p>These YAML definitions are used by the <a href="https://github.com/bigbio/sdrf-pipelines">sdrf-pipelines</a> validator to check SDRF files for compliance.</p>
</div>
<div class="paragraph">
<p><strong>Template files location:</strong> <a href="https://github.com/bigbio/proteomics-metadata-standard/tree/master/sdrf-proteomics/templates">sdrf-proteomics/templates/</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_template_architecture"><a class="anchor" href="#_template_architecture"></a><a class="link" href="#_template_architecture">2. Template Architecture</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_layered_hierarchy"><a class="anchor" href="#_layered_hierarchy"></a><a class="link" href="#_layered_hierarchy">2.1. Layered Hierarchy</a></h3>
<div class="paragraph">
<p>Templates are organized in a layered hierarchy where each layer serves a specific purpose:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">base (construction artifact - not user-facing)
│
├── TECHNOLOGY LAYER (mutually exclusive)
│   ├── ms-proteomics              # Mass spectrometry proteomics
│   │   └── EXPERIMENT LAYER
│   │       ├── dda-acquisition    # Data-dependent acquisition
│   │       ├── dia-acquisition    # Data-independent acquisition
│   │       ├── single-cell        # Single-cell proteomics
│   │       ├── immunopeptidomics  # MHC peptide analysis
│   │       ├── crosslinking       # XL-MS experiments
│   │       └── metaproteomics     # Microbiome proteomics
│   │
│   └── affinity-proteomics        # Affinity-based proteomics
│       └── EXPERIMENT LAYER
│           ├── olink              # Olink PEA platform
│           └── somascan           # SomaScan aptamer platform
│
└── SAMPLE LAYER (mutually exclusive)
    ├── human                      # Human samples
    ├── vertebrates                # Non-human vertebrates (mouse, rat, etc.)
    ├── invertebrates              # Invertebrates (Drosophila, C. elegans)
    └── plants                     # Plant samples (Arabidopsis, crops)

cell-lines (EXPERIMENT layer - requires technology + sample)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_layer_definitions"><a class="anchor" href="#_layer_definitions"></a><a class="link" href="#_layer_definitions">2.2. Layer Definitions</a></h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Layer</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>base</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal construction artifact with shared columns. Never used directly by users.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">base</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>technology</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the proteomics technology. Exactly one required per SDRF.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ms-proteomics, affinity-proteomics</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sample</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines organism-specific sample metadata. One recommended per SDRF.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">human, vertebrates, invertebrates, plants</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>experiment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines methodology-specific columns. Multiple can be combined if not mutually exclusive.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dda-acquisition, single-cell, olink, cell-lines</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_mutual_exclusivity"><a class="anchor" href="#_mutual_exclusivity"></a><a class="link" href="#_mutual_exclusivity">2.3. Mutual Exclusivity</a></h3>
<div class="paragraph">
<p>Some templates cannot be combined because they represent mutually exclusive concepts:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 28.5714%;">
<col style="width: 42.8572%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Template A</th>
<th class="tableblock halign-left valign-top">Template B</th>
<th class="tableblock halign-left valign-top">Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ms-proteomics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">affinity-proteomics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different technologies</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dda-acquisition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dia-acquisition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different acquisition methods</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">somascan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">olink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different affinity platforms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">human</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertebrates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different organism types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">human</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">invertebrates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different organism types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">human</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different organism types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertebrates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">invertebrates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different organism types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vertebrates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different organism types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">invertebrates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different organism types</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_yaml_template_schema"><a class="anchor" href="#_yaml_template_schema"></a><a class="link" href="#_yaml_template_schema">3. YAML Template Schema</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_complete_template_structure"><a class="anchor" href="#_complete_template_structure"></a><a class="link" href="#_complete_template_structure">3.1. Complete Template Structure</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml"># =============================================================================
# TEMPLATE METADATA (required)
# =============================================================================
name: human                        # Unique template identifier (used in --template flag)
description: Human SDRF template   # Human-readable description
version: 1.1.0                     # Semantic version (major.minor.patch)

# =============================================================================
# INHERITANCE AND RELATIONSHIPS (optional)
# =============================================================================
extends: base                      # Parent template to inherit from
usable_alone: false                # Can this template be used without others?
layer: sample                      # Layer: base, technology, sample, experiment

# Mutual exclusivity - templates that cannot be combined with this one
mutually_exclusive_with:
  - vertebrates
  - invertebrates
  - plants

# Required layers - for templates that need specific layer types
requires:
  - layer: technology              # Requires a technology template
  - layer: sample                  # Requires a sample template

# =============================================================================
# TEMPLATE-LEVEL VALIDATORS (optional)
# =============================================================================
validators:
  - validator_name: min_columns
    params:
      min_columns: 12
  - validator_name: trailing_whitespace_validator
    params: {}

# =============================================================================
# COLUMN DEFINITIONS (required)
# =============================================================================
columns:
  - name: characteristics[disease]
    description: Disease state of the sample
    requirement: required          # required | recommended | optional
    type: string                   # string | integer (default: string)
    cardinality: single            # single | multiple (default: single)
    allow_not_applicable: true     # Allow "not applicable" value
    allow_not_available: true      # Allow "not available" value
    allow_pooled: false            # Allow "pooled" value (for replicates)
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - mondo
            - efo
            - doid
            - pato
          error_level: warning     # error | warning
          description: The disease should be a valid ontology term
          examples:
            - normal
            - breast cancer
            - diabetes mellitus</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_template_properties_reference"><a class="anchor" href="#_template_properties_reference"></a><a class="link" href="#_template_properties_reference">3.2. Template Properties Reference</a></h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique template identifier. Used in validation commands (<code>--template human</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human-readable description of the template&#8217;s purpose.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Semantic version (e.g., <code>1.1.0</code>). Should match the specification version.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extends</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parent template name. Child inherits all columns and validators.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>usable_alone</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>false</code>, must be combined with other templates. Default: <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Template layer: <code>base</code>, <code>technology</code>, <code>sample</code>, or <code>experiment</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mutually_exclusive_with</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Templates that cannot be combined with this one.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>requires</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Layer requirements (e.g., <code>- layer: technology</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>validators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Template-level validators applied to the entire SDRF file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>columns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column definitions with validation rules.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_column_properties_reference"><a class="anchor" href="#_column_properties_reference"></a><a class="link" href="#_column_properties_reference">3.3. Column Properties Reference</a></h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column header exactly as in SDRF (e.g., <code>characteristics[disease]</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">What the column contains and how to fill it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>requirement</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>required</code> (must be present), <code>recommended</code> (should be present), <code>optional</code> (may be present).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data type: <code>string</code> (default) or <code>integer</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cardinality</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single</code> (default) or <code>multiple</code> (semicolon-separated values).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_not_applicable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow <code>not applicable</code> when column doesn&#8217;t apply. Default: <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_not_available</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow <code>not available</code> when data is unknown. Default: <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_pooled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow <code>pooled</code> value (for biological replicate). Default: <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>validators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column-level validators for value checking.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_validator_reference"><a class="anchor" href="#_validator_reference"></a><a class="link" href="#_validator_reference">4. Validator Reference</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_template_level_validators"><a class="anchor" href="#_template_level_validators"></a><a class="link" href="#_template_level_validators">4.1. Template-Level Validators</a></h3>
<div class="paragraph">
<p>These validators apply to the entire SDRF file structure.</p>
</div>
<div class="sect3">
<h4 id="_min_columns"><a class="anchor" href="#_min_columns"></a><a class="link" href="#_min_columns">4.1.1. min_columns</a></h4>
<div class="paragraph">
<p>Ensures minimum column count.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: min_columns
  params:
    min_columns: 12</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_trailing_whitespace_validator"><a class="anchor" href="#_trailing_whitespace_validator"></a><a class="link" href="#_trailing_whitespace_validator">4.1.2. trailing_whitespace_validator</a></h4>
<div class="paragraph">
<p>Checks for trailing whitespace in cell values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: trailing_whitespace_validator
  params: {}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_column_order"><a class="anchor" href="#_column_order"></a><a class="link" href="#_column_order">4.1.3. column_order</a></h4>
<div class="paragraph">
<p>Validates expected column order (source name first, data file last).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: column_order
  params: {}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_empty_cells"><a class="anchor" href="#_empty_cells"></a><a class="link" href="#_empty_cells">4.1.4. empty_cells</a></h4>
<div class="paragraph">
<p>Checks for empty cells that should have values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: empty_cells
  params: {}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_combination_of_columns_no_duplicate_validator"><a class="anchor" href="#_combination_of_columns_no_duplicate_validator"></a><a class="link" href="#_combination_of_columns_no_duplicate_validator">4.1.5. combination_of_columns_no_duplicate_validator</a></h4>
<div class="paragraph">
<p>Ensures column combinations are unique (no duplicate rows).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: combination_of_columns_no_duplicate_validator
  params:
    column_name:              # Must be unique (error if duplicates)
      - source name
      - assay name
      - comment[label]
    column_name_warning:      # Should be unique (warning if duplicates)
      - source name
      - assay name</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_column_level_validators"><a class="anchor" href="#_column_level_validators"></a><a class="link" href="#_column_level_validators">4.2. Column-Level Validators</a></h3>
<div class="paragraph">
<p>These validators apply to individual column values.</p>
</div>
<div class="sect3">
<h4 id="_ontology"><a class="anchor" href="#_ontology"></a><a class="link" href="#_ontology">4.2.1. ontology</a></h4>
<div class="paragraph">
<p>Validates values against ontology terms.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: ontology
  params:
    ontologies:              # List of ontology prefixes
      - mondo
      - efo
      - doid
    parent_term: MS:1000044  # Optional: restrict to children of this term
    error_level: warning     # error or warning
    description: Human-readable validation message
    examples:
      - normal
      - breast cancer</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pattern"><a class="anchor" href="#_pattern"></a><a class="link" href="#_pattern">4.2.2. pattern</a></h4>
<div class="paragraph">
<p>Validates values against a regular expression.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: pattern
  params:
    pattern: ^(\d+[yYmMdD])+(-(\d+[yYmMdD])+)?$
    case_sensitive: false    # Optional, default: true
    description: Age format like 45Y, 6M, 30Y6M
    examples:
      - 45Y
      - 30Y6M
      - 40Y-50Y</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_values"><a class="anchor" href="#_values"></a><a class="link" href="#_values">4.2.3. values</a></h4>
<div class="paragraph">
<p>Validates against a fixed list of allowed values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: values
  params:
    values:
      - male
      - female
      - intersex
      - not available
      - not applicable
    error_level: error
    description: Sex must be one of the allowed values</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_single_cardinality_validator"><a class="anchor" href="#_single_cardinality_validator"></a><a class="link" href="#_single_cardinality_validator">4.2.4. single_cardinality_validator</a></h4>
<div class="paragraph">
<p>Ensures single value per cell (no semicolon-separated values).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- validator_name: single_cardinality_validator
  params: {}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_supported_ontologies"><a class="anchor" href="#_supported_ontologies"></a><a class="link" href="#_supported_ontologies">5. Supported Ontologies</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 42.8572%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Prefix</th>
<th class="tableblock halign-left valign-top">Ontology</th>
<th class="tableblock halign-left valign-top">Common Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ncbitaxon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NCBI Taxonomy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">organism</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uberon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uberon Anatomy Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">organism part</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cell type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell Line Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cell line</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bto</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BRENDA Tissue Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tissue, cell type, cell line</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mondo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MONDO Disease Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">disease</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>efo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Experimental Factor Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">disease, experimental factors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>doid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disease Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">disease</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pato</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Phenotype and Trait Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">phenotypes (including "normal")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PSI-MS Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instrument, cleavage agent, mass analyzer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pride</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PRIDE Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">acquisition method, labels, affinity instruments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unimod</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UNIMOD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-translational modifications</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xlmod</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XLMOD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">crosslinking reagents</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hancestro</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human Ancestry Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ancestry category (human)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hsapdv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human Developmental Stages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">developmental stage (human)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mmusdv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mouse Developmental Stages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">developmental stage (mouse)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fbdv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FlyBase Developmental</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">developmental stage (Drosophila)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wbls</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WormBase Life Stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">developmental stage (C. elegans)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>po</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plant Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plant tissues, developmental stages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>envo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">environmental samples (metaproteomics)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gaz</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gazetteer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">geographic locations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chebi</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ChEBI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">chemical entities, treatments</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_template_inheritance_rules"><a class="anchor" href="#_template_inheritance_rules"></a><a class="link" href="#_template_inheritance_rules">6. Template Inheritance Rules</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>When templates are combined, the following rules apply:</p>
</div>
<div class="sect2">
<h3 id="_inheritance_behavior"><a class="anchor" href="#_inheritance_behavior"></a><a class="link" href="#_inheritance_behavior">6.1. Inheritance Behavior</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Column inheritance</strong>: Child templates inherit all columns from parent templates</p>
</li>
<li>
<p><strong>Validator inheritance</strong>: Child templates inherit all validators from parent templates</p>
</li>
<li>
<p><strong>Column override</strong>: Child templates can redefine inherited columns with stricter requirements</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_requirement_strengthening"><a class="anchor" href="#_requirement_strengthening"></a><a class="link" href="#_requirement_strengthening">6.2. Requirement Strengthening</a></h3>
<div class="paragraph">
<p>Child templates may <strong>strengthen</strong> but not weaken requirements:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parent Requirement</th>
<th class="tableblock halign-left valign-top">Allowed in Child</th>
<th class="tableblock halign-left valign-top">Not Allowed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optional</code>, <code>recommended</code>, <code>required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>recommended</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>recommended</code>, <code>required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optional</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optional</code>, <code>recommended</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_multi_template_combination"><a class="anchor" href="#_multi_template_combination"></a><a class="link" href="#_multi_template_combination">6.3. Multi-Template Combination</a></h3>
<div class="paragraph">
<p>When multiple templates are combined:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>All columns from all templates are included</p>
</li>
<li>
<p>If the same column appears in multiple templates, the <strong>strictest requirement</strong> wins</p>
</li>
<li>
<p>Validators are merged (all validators apply)</p>
</li>
<li>
<p>Mutual exclusivity is checked first</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Example valid combination:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">ms-proteomics + human + dda-acquisition + cell-lines
     ↓             ↓           ↓              ↓
 technology    sample    experiment     experiment</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_new_templates"><a class="anchor" href="#_creating_new_templates"></a><a class="link" href="#_creating_new_templates">7. Creating New Templates</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_checklist"><a class="anchor" href="#_checklist"></a><a class="link" href="#_checklist">7.1. Checklist</a></h3>
<div class="paragraph">
<p>When creating a new template:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>[ ] Choose appropriate parent template (<code>extends</code>)</p>
</li>
<li>
<p>[ ] Set correct layer (<code>layer</code>)</p>
</li>
<li>
<p>[ ] Define mutual exclusivity if needed (<code>mutually_exclusive_with</code>)</p>
</li>
<li>
<p>[ ] Use semantic versioning (<code>version</code>)</p>
</li>
<li>
<p>[ ] Document all columns with clear descriptions</p>
</li>
<li>
<p>[ ] Add appropriate validators (ontology, pattern, values)</p>
</li>
<li>
<p>[ ] Include examples in validators</p>
</li>
<li>
<p>[ ] Test with real SDRF files</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_best_practices"><a class="anchor" href="#_best_practices"></a><a class="link" href="#_best_practices">7.2. Best Practices</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Follow naming conventions</strong>: Use lowercase with hyphens for template names</p>
</li>
<li>
<p><strong>Be specific in descriptions</strong>: Include what values are expected and when to use <code>not applicable</code></p>
</li>
<li>
<p><strong>Use ontologies when possible</strong>: Prefer ontology validators over pattern validators for controlled vocabularies</p>
</li>
<li>
<p><strong>Provide examples</strong>: Always include examples in validator definitions</p>
</li>
<li>
<p><strong>Document special cases</strong>: Explain when <code>not applicable</code> or <code>not available</code> are appropriate</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_example_creating_an_experiment_template"><a class="anchor" href="#_example_creating_an_experiment_template"></a><a class="link" href="#_example_creating_an_experiment_template">7.3. Example: Creating an Experiment Template</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">name: my-experiment
description: SDRF template for my specific experiment type.
  Extends ms-proteomics with experiment-specific columns.
version: 1.0.0
extends: ms-proteomics
usable_alone: false
layer: experiment

columns:
  - name: characteristics[my field]
    description: Description of what this field captures
    requirement: required
    allow_not_applicable: false
    allow_not_available: true
    validators:
      - validator_name: ontology
        params:
          ontologies:
            - efo
          error_level: warning
          description: Should be a valid EFO term
          examples:
            - example value 1
            - example value 2</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_linkml_schema"><a class="anchor" href="#_linkml_schema"></a><a class="link" href="#_linkml_schema">8. LinkML Schema</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>For tools requiring a formal schema language, a <a href="https://linkml.io/">LinkML</a> representation is available:</p>
</div>
<div class="paragraph">
<p><strong>File:</strong> <a href="../templates/sdrf-template-schema.linkml.yaml">sdrf-template-schema.linkml.yaml</a></p>
</div>
<div class="paragraph">
<p>LinkML provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Formal type definitions compatible with JSON Schema, SHACL, and OWL</p>
</li>
<li>
<p>Code generation for Python, Java, and other languages</p>
</li>
<li>
<p>Integration with semantic web tools</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Usage examples:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Generate JSON Schema from LinkML
gen-json-schema sdrf-template-schema.linkml.yaml &gt; sdrf-template-schema.json

# Generate Python dataclasses
gen-python sdrf-template-schema.linkml.yaml &gt; sdrf_template.py

# Validate a template file against the schema
linkml-validate -s sdrf-template-schema.linkml.yaml templates/human/human.yaml</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_validation_commands"><a class="anchor" href="#_validation_commands"></a><a class="link" href="#_validation_commands">9. Validation Commands</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Validate SDRF files using sdrf-pipelines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Install
pip install sdrf-pipelines

# Validate with single template
parse_sdrf validate-sdrf --sdrf_file file.sdrf.tsv --template ms-proteomics

# Validate with multiple templates
parse_sdrf validate-sdrf --sdrf_file file.sdrf.tsv \
  --template ms-proteomics \
  --template human \
  --template dda-acquisition

# Check template compatibility
parse_sdrf check-templates --templates ms-proteomics,human,dda-acquisition</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a><a class="link" href="#_references">10. References</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/bigbio/sdrf-pipelines">sdrf-pipelines</a> - SDRF validation tool</p>
</li>
<li>
<p><a href="https://linkml.io/">LinkML</a> - Linked data modeling language</p>
</li>
<li>
<p><a href="https://github.com/bigbio/proteomics-metadata-standard/tree/master/sdrf-proteomics/templates">Template files on GitHub</a></p>
</li>
<li>
<p><a href="../README.html">SDRF-Proteomics Specification</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2026-02-04 00:41:52 UTC
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>